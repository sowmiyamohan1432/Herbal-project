<!-- view-purchase-requisition.component.html -->
<div class="view-requisition-container">
    <div class="header">
      <h2>View Purchase Requisition</h2>
      <button class="back-btn" (click)="goBack()">
        <i class="fa fa-arrow-left"></i> Back
      </button>
    </div>
  
    <div *ngIf="isLoading" class="loading">
      <i class="fa fa-spinner fa-spin"></i> Loading...
    </div>
  
    <div *ngIf="!isLoading && requisition" class="requisition-details">
      <div class="detail-row">
        <div class="detail-item">
          <label>Reference No:</label>
          <span>{{ requisition.referenceNo }}</span>
        </div>
        <div class="detail-item">
          <label>Date:</label>
          <span>{{ requisition.date }}</span>
        </div>
      </div>
  
      <div class="detail-row">
        <div class="detail-item">
          <label>Location:</label>
          <span>{{ requisition.location }}</span>
        </div>
        <div class="detail-item">
          <label>Status:</label>
          <span class="status-badge" [ngClass]="requisition.status.toLowerCase()">
            {{ requisition.status }}
          </span>
        </div>
      </div>
  
      <div class="detail-row">
        <div class="detail-item">
          <label>Required by Date:</label>
          <span>{{ requisition.requiredByDate }}</span>
        </div>
        <div class="detail-item">
          <label>Added By:</label>
          <span>{{ requisition.addedBy }}</span>
        </div>
      </div>
  
      <div class="items-section" *ngIf="requisition.items && requisition.items.length > 0">
        <h3>Items</h3>
        <table class="items-table">
          <thead>
            <tr>
              <th>Item</th>
              <th>Quantity</th>
              <th>Unit Price</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of requisition.items">
              <td>{{ item.name }}</td>
              <td>{{ item.quantity }}</td>
              <td>{{ item.unitPrice | currency }}</td>
              <td>{{ item.quantity * item.unitPrice | currency }}</td>
            </tr>
          </tbody>
        </table>
      </div>
  
      <div class="actions">
        <button class="btn-print" (click)="printRequisition()">
          <i class="fa fa-print"></i> Print
        </button>
      </div>
    </div>
  </div>